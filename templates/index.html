<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fraud Detection Prediction</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* Page background */
        body {
            background: linear-gradient(135deg, #0d1b2a, #1b263b);
            min-height: 100vh;
        }

        /* Main card */
        .card {
            border-radius: 14px;
            background-color: #ffffff;
            border: none;
        }

        /* Headings */
        h3 {
            color: #0d1b2a;
            font-weight: 700;
        }

        h5 {
            color: #1b263b;
            font-weight: 600;
        }

        /* Labels */
        label {
            color: #415a77;
            font-weight: 500;
        }

        /* Inputs */
        .form-control,
        .form-select {
            border-radius: 8px;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #1e88e5;
            box-shadow: 0 0 0 0.15rem rgba(30, 136, 229, 0.25);
        }

        /* Button */
        .btn-primary {
            background-color: #1e88e5;
            border: none;
            font-weight: 600;
            border-radius: 10px;
        }

        .btn-primary:hover {
            background-color: #1565c0;
        }

        /* Result styles */
        .alert-fraud {
            background-color: #fdecea;
            color: #b71c1c;
            border: none;
            font-weight: 600;
        }

        .alert-legit {
            background-color: #e8f5e9;
            color: #1b5e20;
            border: none;
            font-weight: 600;
        }
    </style>
</head>

<body>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">

            <div class="card shadow-lg p-4">
                <h3 class="text-center mb-4">Fraud Detection Prediction</h3>

                <form action="/predict" method="post">

                    <!-- Transaction Details -->
                    <h5 class="mb-3">Transaction Details</h5>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <label class="form-label">Step (Hour)</label>
                            <input type="number" class="form-control" name="step" min="0" required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label">Hour</label>
                            <input type="number" class="form-control" name="hour" min="0" max="23" required>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label class="form-label">Day</label>
                            <input type="number" class="form-control" name="day" min="1" max="31" required>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Transaction Type</label>
                        <select class="form-select" name="type" required>
                            <option value="CASH_OUT">CASH_OUT</option>
                            <option value="TRANSFER">TRANSFER</option>
                            <option value="PAYMENT">PAYMENT</option>
                            <option value="DEBIT">DEBIT</option>
                        </select>
                    </div>

                    <hr>

                    <!-- Amount -->
                    <div class="mb-3">
                        <label class="form-label">Transaction Amount</label>
                        <input type="number" step="0.01" class="form-control" name="amount" min="0" required>
                    </div>

                    <hr>

                    <!-- Origin Account -->
                    <h5 class="mb-3">Origin Account</h5>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">Old Balance (Origin)</label>
                            <input type="number" step="0.01" class="form-control" name="oldbalanceOrg" min="0" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">New Balance (Origin)</label>
                            <input type="number" step="0.01" class="form-control" name="newbalanceOrig" min="0" required>
                        </div>
                    </div>

                    <hr>

                    <!-- Destination Account -->
                    <h5 class="mb-3">Destination Account</h5>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">Old Balance (Destination)</label>
                            <input type="number" step="0.01" class="form-control" name="oldbalanceDest" min="0" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">New Balance (Destination)</label>
                            <input type="number" step="0.01" class="form-control" name="newbalanceDest" min="0" required>
                        </div>
                    </div>

                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary w-100 py-2">
                            Predict Fraud
                        </button>
                    </div>
                </form>

                <!-- Prediction Result -->
                {% if prediction_text %}
                    <div class="alert text-center mt-4
                        {% if 'Fraud' in prediction_text %}
                            alert-fraud
                        {% else %}
                            alert-legit
                        {% endif %}
                    ">
                        {{ prediction_text }}
                    </div>
                {% endif %}

            </div>

        </div>
    </div>
</div>

</body>
</html>

